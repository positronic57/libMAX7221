<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.6"/>
<title>MAX7221 library: libMAX7221</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td style="padding-left: 0.5em;">
   <div id="projectname">MAX7221 library
   &#160;<span id="projectnumber">v1.0rc1</span>
   </div>
   <div id="projectbrief">MAX7221 library in C for AVR 8-bit microcontrollers</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.6 -->
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li class="current"><a href="index.html"><span>Main&#160;Page</span></a></li>
      <li><a href="modules.html"><span>Modules</span></a></li>
      <li><a href="annotated.html"><span>Data&#160;Structures</span></a></li>
      <li><a href="files.html"><span>Files</span></a></li>
    </ul>
  </div>
</div><!-- top -->
<div class="header">
  <div class="headertitle">
<div class="title">libMAX7221 </div>  </div>
</div><!--header-->
<div class="contents">
<div class="textblock"><dl class="section author"><dt>Author</dt><dd>Goce Boshkovski</dd></dl>
<h1><a class="anchor" id="desc"></a>
Short Description</h1>
<p>LibMAX7221 is a C library for 7Seg display driven by MAX7221 and connected to 8-bit AVR microcontrollers.</p>
<h1><a class="anchor" id="hwsupp"></a>
Supported Hardware</h1>
<p>The library is compatible with every 8-bit AVR microcontroller which has SPI that supports standard master mode of operation with 4 wires for the SPI physical bus.</p>
<p>It supports only a single raw 7Seg Display with maximum 8 7Seg LEDs driven by a single MAX7221.</p>
<h1><a class="anchor" id="use"></a>
Usage</h1>
<p>First the SPI module of the AVR microcontroller must be configured as standard SPI master with 4 wire SPI bus. Because the different AVR MCU have different PINs assigned to the SPI module, its initialization must be performed additionally and it is not done by this library.</p>
<p>For example, in case of Atmega328:</p>
<p>void SPI_Master_Init() { /* Set MOSI, SCK as output pins /SS pin will be set as output by the MAX7221_init function</p>
<p>DDRB = (1&lt;&lt;PORTB3)|(1&lt;&lt;PORTB5);</p>
<p>/*Set SPI parameters via SPCR:</p>
<ul>
<li>frequency f/16;</li>
<li>Define the microcontroller as SPI Master;</li>
<li>MSB is transmitted first;</li>
<li>SCK is low when idle;</li>
<li>SPI is enable.</li>
</ul>
<p>SPCR = (1 &lt;&lt; MSTR) | (1 &lt;&lt; SPE) | (1 &lt;&lt; SPR0); }</p>
<p>Next step is to initialize the connected 7Seg display using the MAX7221_initDisplay function. For example, if the /SS pin of MAX7221 is connected to the PB2 PIN of the MCU, the init function arguments are:</p>
<p>MAX7221_initDisplay(p7SegDisplay,5,&amp;PORTB,PORTB2);</p>
<p>After the SPI and MAX7221 initialization the display can be controlled using the rest of the functions in the library as presented in the example distributed with the library.</p>
<dl class="section warning"><dt>Warning</dt><dd>The source is provided as it is without any warranty. Use it on your own risk! The author does not take any responsibility for the damage caused while using this software.</dd></dl>
<p>Tested on Atmel Atmega328 MCU. </p>
</div></div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated on Thu Jul 9 2015 21:16:56 for MAX7221 library by &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/>
</a> 1.8.6
</small></address>
</body>
</html>
