<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.7"/>
<title>MAX7221 library: libMAX7221</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td style="padding-left: 0.5em;">
   <div id="projectname">MAX7221 library
   &#160;<span id="projectnumber">v1.1</span>
   </div>
   <div id="projectbrief">MAX7221 library in C for AVR 8-bit microcontrollers</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.7 -->
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li class="current"><a href="index.html"><span>Main&#160;Page</span></a></li>
      <li><a href="modules.html"><span>Modules</span></a></li>
      <li><a href="annotated.html"><span>Data&#160;Structures</span></a></li>
      <li><a href="files.html"><span>Files</span></a></li>
    </ul>
  </div>
</div><!-- top -->
<div class="header">
  <div class="headertitle">
<div class="title">libMAX7221 </div>  </div>
</div><!--header-->
<div class="contents">
<div class="textblock"><dl class="section author"><dt>Author</dt><dd>Goce Boshkovski</dd></dl>
<h1><a class="anchor" id="desc"></a>
Short Description</h1>
<p>LibMAX7221 is a C library for 7Seg display driven by MAX7221 and connected to 8-bit AVR microcontrollers.</p>
<h1><a class="anchor" id="whatsnew"></a>
What's New</h1>
<p>Version 1.1</p><ul>
<li>Digital control of display brightness. New macro for setting display intensity.</li>
</ul>
<h1><a class="anchor" id="hwsupp"></a>
Supported Hardware</h1>
<p>The library is compatible with every 8-bit AVR microcontroller which has SPI that supports standard master mode of operation with 4 wires for the SPI physical bus.</p>
<p>It supports only a single raw 7Seg Display with maximum 8 7Seg LEDs driven by a single MAX7221.</p>
<h1><a class="anchor" id="use"></a>
Usage</h1>
<p>First the SPI module of the AVR microcontroller must be configured as standard SPI master with 4 wire SPI bus. Because the different AVR MCU have different PINs assigned to the SPI module, its initialization must be performed additionally and it is not done by this library. (See the example section how to init SPI of Atmega328.)</p>
<p>Next step is to initialize the connected 7Seg display using the <a class="el" href="group__libFunctions.html#ga4fb08485c21fb135c00ea908c44af9af" title="The function is used to initilaze the MAX7221 driver by configuring all of the relevant MAX7221 param...">MAX7221_initDisplay()</a> function. For example, if the /SS pin of MAX7221 is connected to the PB2 PIN of the MCU, the init function for display with 5 7Seg digits is: </p><pre class="fragment">MAX7221_initDisplay(p7SegDisplay,5,&amp;PORTB,PORTB2);
</pre><p>where: p7SegDispaly is a pointer to <a class="el" href="structS7SegDisplay.html" title="MAX7221 7SegDisplay is represented by this structure. ">S7SegDisplay</a> structure that represents the display, 5 is the lenght of the display and last two arguments define the PIN used as /SS.</p>
<p>The display module in the library is defined as an array of digits, where each field from the array is equivalent to one 7SEG digit. <a class="el" href="group__libFunctions.html#gafc77d5f184229955ff4337c1c0446e2c" title="Sets the value of the n-th digit in the display buffer defined in 7SegDispaly structure. ">MAX7221_setDigit()</a> function sets the value of n-th digit in the array, while <a class="el" href="group__libFunctions.html#ga05b20f754480ad1058aa9aa1f5b4d996" title="Refreshes the content of the n-th 7Seg LED using the coresponding value from the display buffer...">MAX7221_refreshDigit()</a> function displays that value on the module.</p>
<p>For example: </p><pre class="fragment">MAX7221_setDigit(p7SegDisplay,DIGIT4,8);    //The value of the 4-th filed in the array is set to 8
MAX7221_refreshDigit(p7SegDisplay,DIGIT4);  //DIGIT4 from the display module is updated with the content of the 4-th filed in the array
</pre><p><a class="el" href="group__libFunctions.html#gad47428dfa7c62f5b1df2121c15b40001" title="Diplays the content of the buffer on the displays. ">MAX7221_refreshDisplay()</a> presents the content of the whole array on the display module.</p>
<p>Check the doc folder for detailed description of the library.</p>
<p>Tested on Atmel Atmega328 MCU.</p>
<dl class="section warning"><dt>Warning</dt><dd>The source is provided as it is without any warranty. Use it on your own risk! The author does not take any responsibility for the damage caused while using this software. </dd></dl>
</div></div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated on Fri Sep 11 2015 22:56:46 for MAX7221 library by &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/>
</a> 1.8.7
</small></address>
</body>
</html>
